- name: Get PAN-OS system info
  hosts: palo_firewalls
  connection: local
  gather_facts: no

  collections:
    - paloaltonetworks.panos

  tasks:
    - name: Get system information
      panos_op:
        provider:
          ip_address: "{{ ansible_host }}"
          username: "{{ ansible_user }}"
          password: "{{ ansible_password }}"
        cmd: "show system info"
      register: result

    - name: Parse JSON output
      set_fact:
        system_info: "{{ result.stdout | from_json }}"

    - name: Display selected details
      debug:
        msg:
          - "Hostname: {{ system_info.response.result.system.hostname }}"
          - "Model: {{ system_info.response.result.system.model }}"
          - "Software Version: {{ system_info.response.result.system['sw-version'] }}"
          - "Uptime: {{ system_info.response.result.system.uptime }}"